(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))m(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&m(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function m(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function V(){$(function(){$(".icon0").draggable(),$(".icon1").draggable(),$(".icon2").draggable(),$(".icon3").draggable(),$(".icon4").draggable(),$(".icon5").draggable(),$(".music__wrap").draggable(),$(".search__wrap").draggable(),$(".memory__wrap").draggable(),$(".tetris__wrap").draggable()}),$(".icon1").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse01.png")},drag:function(){$("header").css("background-color","#f99191b6")}}),$(".icon1").click(function(){let s=$(".music");s.text()=="🎵 현재 뮤직 듣기가 중지되었습니다. 🎵"?s.text("🎵 현재 뮤직 듣기가 실행되었습니다. 🎵"):s.text("🎵 현재 뮤직 듣기가 중지되었습니다. 🎵")}),$(".icon2").draggable({start:function(){$(".cursor img").attr("src","images/game_mouse02.png")},drag:function(){$("header").css("background-color","#919df9b0")}}),$(".icon2").click(function(){let s=$(".music");s.text()=="🎵 현재 뮤직 듣기가 중지되었습니다. 🎵"?s.text("🎵 현재 뮤직 듣기가 실행되었습니다. 🎵"):s.text("🎵 현재 뮤직 듣기가 중지되었습니다. 🎵")}),$(".icon3").draggable({start:function(){$(".cursor img").attr("src","images/game_mouse03.png")},drag:function(){$("header").css("background-color","#c3ff98b9")}}),$(".icon3").click(function(){let s=$(".music");s.text()=="🎵 현재 뮤직 듣기가 중지되었습니다. 🎵"?s.text("🎵 현재 뮤직 듣기가 실행되었습니다. 🎵"):s.text("🎵 현재 뮤직 듣기가 중지되었습니다. 🎵")}),$(".icon4").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse04.png")},drag:function(){$("header").css("background-color","#fbf58bb6")}}),$(".icon4").click(function(){let s=$(".music");s.text()=="🎵 현재 뮤직 듣기가 중지되었습니다. 🎵"?s.text("🎵 현재 뮤직 듣기가 실행되었습니다. 🎵"):s.text("🎵 현재 뮤직 듣기가 중지되었습니다. 🎵")}),$(".music__wrap").draggable({scroll:!1}),$(".icon1").on("click",function(){$("#header").animate({backgroundColor:"#f99191b6"}),$(".cursor img").attr("src","images/game_mouse01.png"),$(".music__wrap").toggle(),$(".tetris__wrap").css("display","none"),$(".body").css("background-image","url('images/gamebg01.jpg')"),$(".icon1 span").animate({backgroundColor:"#f99191b6"}),$(".icon2 span").stop().css("background-color",""),$(".icon3 span").stop().css("background-color",""),$(".icon4 span").stop().css("background-color","")}),$(".icon2").on("click",function(){$("#header").animate({backgroundColor:"#919df9b0"}),$(".cursor img").attr("src","images/game_mouse02.png"),$(".music__wrap").css("display","none"),$(".tetris__wrap").toggle(),$(".body").css("background-image","url('images/gamebg02.jpg')"),$(".icon2 span").animate({backgroundColor:"#919df9b0"}),$(".icon1 span").stop().css("background-color",""),$(".icon3 span").stop().css("background-color",""),$(".icon4 span").stop().css("background-color","")}),$(".icon3").on("click",function(){$("#header").animate({backgroundColor:"#c3ff98b9"}),$(".cursor img").attr("src","images/game_mouse03.png"),$(".music__wrap").css("display","none"),$(".tetris__wrap").css("display","none"),$(".body").css("background-image","url('images/gamebg03.jpg')"),$(".icon3 span").animate({backgroundColor:"#c3ff98b9"}),$(".icon1 span").stop().css("background-color",""),$(".icon2 span").stop().css("background-color",""),$(".icon4 span").stop().css("background-color","")}),$(".icon4").on("click",function(){$("#header").animate({backgroundColor:"#fbf58bb6"}),$(".cursor img").attr("src","images/game_mouse04.png"),$(".music__wrap").css("display","none"),$(".tetris__wrap").css("display","none"),$(".body").css("background-image","url('images/gamebg01.jpg')"),$(".icon4 span").animate({backgroundColor:"#fbf58bb6"}),$(".icon1 span").stop().css("background-color",""),$(".icon2 span").stop().css("background-color",""),$(".icon3 span").stop().css("background-color","")}),document.querySelector(".icon2").addEventListener("click",()=>{document.querySelector(".tetris__wrap").classList.toggle("show"),tetrisMusic.pause(),document.querySelector(".music__wrap").classList.remove("show"),pauseMusic(),btnStop.style.display="none",btnPlay.style.display="block"}),window.onload=function(){window.addEventListener("mousemove",s=>{gsap.to(".cursor",{duration:0,left:s.pageX-5,top:s.pageY-10})}),o(),t()};function o(){const s=document.querySelector(".time"),m=new Date;let i=m.getHours(),a=m.getMinutes(),l=m.getSeconds();i>12&&(i=i),i<10&&(i=`0${i}`),a<10&&(a=`0${a}`),l<10&&(l=`0${l}`);const h=m.getFullYear()+"년 "+(m.getMonth()+1)+"월 "+m.getDate()+"일 "+i+":"+a+":"+l;s.innerText=h,setTimeout("printTime()",1e3)}function t(){const s=document.querySelector(".info"),m=navigator.userAgent.toLocaleLowerCase();m.indexOf("window")>=0?(s.innerText="현재 windows를 사용하고 있으며, 화면 크기는 "+screen.width+" * "+screen.height+"입니다.",document.querySelector(".info").classList.add("window")):m.indexOf("macintosh")>=0?(s.innerText="현재 mac을 사용하고 있으며, 화면 크기는 "+screen.width+" * "+screen.height+"입니다.",document.querySelector("body").classList.add("mac")):m.indexOf("iphone")>=0?(s.innerText="현재 IPhone을 사용하고 있으며, 화면 크기는 "+screen.width+" * "+screen.height+"입니다.",document.querySelector("body").classList.add("iphone")):m.indexOf("android")>=0&&(s.innerText="현재 Android를 사용하고 있으며, 화면 크기는 "+screen.width+" * "+screen.height+"입니다.",document.querySelector("body").classList.add("android"))}}function J(){const o=[{name:"Drunk Text",artist:"Henry Moodie",img:"music_view01",audio:"music_audio01"},{name:"you",artist:"LANY",img:"music_view02",audio:"music_audio02"},{name:"Still Sunset",artist:"NELL",img:"music_view03",audio:"music_audio03"},{name:"love someone",artist:"Lukas Graham",img:"music_view04",audio:"music_audio04"},{name:"Photograph",artist:"Ed Sheeran",img:"music_view05",audio:"music_audio05"},{name:"Never Not",artist:"Lauv",img:"music_view06",audio:"music_audio06"},{name:"summer",artist:"The Volunteers",img:"music_view07",audio:"music_audio07"},{name:"Wonder",artist:"Shawn Mendes",img:"music_view08",audio:"music_audio08"},{name:"Yesterday",artist:"박재범",img:"music_view09",audio:"music_audio09"},{name:"우리가 다투게 돼도 이것만 기억해 줄래",artist:"Grizzly",img:"music_view10",audio:"music_audio10"}],t=document.querySelector(".music__wrap"),s=t.querySelector(".music__close"),m=t.querySelector(".music__control .title h3"),i=t.querySelector(".music__control .title p"),a=t.querySelector(".music__view .image img"),l=t.querySelector("#main-audio"),h=t.querySelector("#control-play"),z=t.querySelector("#control-prev"),C=t.querySelector("#control-next"),O=t.querySelector(".progress"),_=t.querySelector(".progress .bar"),F=t.querySelector(".progress .timer .current"),W=t.querySelector(".progress .timer .duration"),b=t.querySelector("#control-repeat"),G=t.querySelector("#control-list"),k=t.querySelector(".music__list"),x=t.querySelector(".music__list ul"),A=t.querySelector(".music__list h3 .close"),u=t.querySelector("#control-mute"),S=t.querySelector("#control-volumeUp"),E=t.querySelector("#control-volumeDown");let d=2;const g=e=>{m.innerText=o[e-1].name,i.innerText=o[e-1].artist,a.src=`images/${o[e-1].img}.png`,a.alt=o[e-1].name,l.src=`audio/${o[e-1].audio}.mp3`},v=()=>{t.classList.add("paused"),h.setAttribute("title","정지"),h.setAttribute("class","stop"),l.play()},P=()=>{t.classList.remove("paused"),h.setAttribute("title","재생"),h.setAttribute("class","play"),l.pause()},D=()=>{d==1?d=o.length:d--,g(d),v(),w()},M=()=>{d==o.length?d=1:d++,g(d),v(),w()};l.addEventListener("timeupdate",e=>{const n=e.target.currentTime,p=e.target.duration;let f=n/p*100;_.style.width=`${f}%`,l.addEventListener("loadeddata",()=>{let y=l.duration,r=Math.floor(y/60),c=Math.floor(y%60);c<10&&(c=`0${c}`),W.innerText=`${r}:${c}`});let I=Math.floor(n/60),L=Math.floor(n%60);L<10&&(L=`0${L}`),F.innerText=`${I}:${L}`}),O.addEventListener("click",e=>{let n=O.clientWidth,p=e.offsetX,f=l.duration;l.currentTime=p/n*f}),b.addEventListener("click",()=>{switch(b.getAttribute("class")){case"repeat":b.setAttribute("class","repeat_one"),b.setAttribute("title","한곡 반복");break;case"repeat_one":b.setAttribute("class","shuffle"),b.setAttribute("title","랜덤 반복");break;case"shuffle":b.setAttribute("class","repeat"),b.setAttribute("title","전체 반복");break}}),l.addEventListener("ended",()=>{switch(b.getAttribute("class")){case"repeat":M();break;case"repeat_one":v();break;case"shuffle":let n=Math.floor(Math.random()*o.length+1);do n=Math.floor(Math.random()*o.length+1);while(d==n);d=n,g(d),v();break}w()}),h.addEventListener("click",()=>{t.classList.contains("paused")?P():v()}),z.addEventListener("click",()=>{D()}),C.addEventListener("click",()=>{M()}),G.addEventListener("click",()=>{k.classList.add("show")}),A.addEventListener("click",()=>{k.classList.remove("show")});for(let e=0;e<o.length;e++){let n=`
            <li data-index="${e+1}">
                <span class="img">
                    <img class="img" src="images/${o[e].img}.png" alt="${o[e].name}">
                </span>
                <span class="title">
                    <strong>${o[e].name}</strong>
                    <em>${o[e].artist}</em>
                    <audio class="${o[e].audio}" src="audio/${o[e].audio}.mp3"></audio>
                </span>
                <span class="audio-duration" id="${o[e].audio}">3:40</span>
            </li>
        `;x.insertAdjacentHTML("beforeend",n);let p=x.querySelector(`#${o[e].audio}`),f=x.querySelector(`.${o[e].audio}`);f.addEventListener("loadeddata",()=>{let I=f.duration,L=Math.floor(I/60),y=Math.floor(I%60);y<10&&(y=`0${y}`),p.innerText=`${L}:${y}`,p.setAttribute("data-duration",`${L}:${y}`)})}function w(){const e=x.querySelectorAll("li");for(let n=0;n<e.length;n++){let p=e[n].querySelector(".audio-duration");if(e[n].addEventListener("click",function(){U(this)}),e[n].classList.contains("playing")){e[n].classList.remove("playing");let f=p.getAttribute("data-duration");p.innerText=f}e[n].getAttribute("data-index")==d&&(e[n].classList.add("playing"),p.innerText="재생중")}}w();function U(e){d=e.getAttribute("data-index"),g(d),v(),w()}window.addEventListener("load",()=>{g(d),w()});function T(){const e=document.getElementById("main-audio");u.classList.contains("mute")?(u.setAttribute("title","음소거 해제"),u.setAttribute("class","sound"),B(0),e.volume=0):(u.setAttribute("title","음소거"),u.setAttribute("class","mute"),B(.3),e.volume=.1)}u.addEventListener("click",T);function B(e){document.querySelector("#control-volume").value=e*10}document.querySelector("#control-volume").addEventListener("input",e=>{let p=(e.target.value*.1).toFixed(1);const f=document.getElementById("main-audio");f.volume=p,B(p),p==0?u.classList.contains("mute")&&(u.setAttribute("title","음소거 해제"),u.setAttribute("class","sound")):(u.setAttribute("title","음소거"),u.setAttribute("class","mute"))}),S.addEventListener("click",()=>{let e=document.querySelector("#control-volume").value;if(e==0&&T(),e++,e>=11)return;document.querySelector("#control-volume").value=e;const n=document.getElementById("main-audio");n.volume=(e*.1).toFixed(1),B(e/10)}),E.addEventListener("click",()=>{let e=document.querySelector("#control-volume").value;if(e--,e==0&&(T(),e=-1),e<=-1)return;document.querySelector("#control-volume").value=e;const n=document.getElementById("main-audio");n.volume=(e*.1).toFixed(1),console.log((e*.1).toFixed(1)),console.log(e)}),s.addEventListener("click",()=>{P(),d=1,g(1),w(),_.style.width="0%",t.style.display="none"})}function K(){const o=document.querySelector(".tetris__wrap"),t=o.querySelector(".playground > ul"),s=o.querySelector(".tetris__start"),m=o.querySelector(".start__btn"),i=o.querySelector(".tetris__restart"),a=o.querySelector(".restart__btn"),l=o.querySelector(".tetris__total .time span"),h=o.querySelector(".tetris__total .line span"),z=o.querySelector(".tetris__score span"),C=o.querySelector(".tetris__info");document.querySelector(".icon2");const O=document.querySelector(".tetris__close__btn");let _=new Audio("https://seolhee313.github.io/web2023/javascript/game/audio/SuperMarioBrosbgm.mp3"),F=new Audio("https://seolhee313.github.io/web2023/javascript/game/audio/MarioCoinSound.mp3"),W=new Audio("https://seolhee313.github.io/web2023/javascript/game/audio/SuperMarioWorldGameOver.mp3"),b=20,G=12,k=0,x=500,A,u,S=0,E=!1,d;const g={type:"Tmino",direction:0,top:0,left:6},v={Tmino:[[[2,1],[0,1],[1,0],[1,1]],[[1,2],[0,1],[1,0],[1,1]],[[1,2],[0,1],[2,1],[1,1]],[[2,1],[1,2],[1,0],[1,1]]],Imino:[[[0,0],[0,1],[0,2],[0,3]],[[0,0],[1,0],[2,0],[3,0]],[[0,0],[0,1],[0,2],[0,3]],[[0,0],[1,0],[2,0],[3,0]]],Omino:[[[0,0],[0,1],[1,0],[1,1]],[[0,0],[0,1],[1,0],[1,1]],[[0,0],[0,1],[1,0],[1,1]],[[0,0],[0,1],[1,0],[1,1]]],Zmino:[[[0,0],[1,0],[1,1],[2,1]],[[1,0],[0,1],[1,1],[0,2]],[[0,0],[1,0],[1,1],[2,1]],[[1,0],[0,1],[1,1],[0,2]]],Smino:[[[1,0],[2,0],[0,1],[1,1]],[[0,0],[0,1],[1,1],[1,2]],[[1,0],[2,0],[0,1],[1,1]],[[0,0],[0,1],[1,1],[1,2]]],Jmino:[[[0,2],[1,0],[1,1],[1,2]],[[0,0],[0,1],[1,1],[2,1]],[[0,0],[1,0],[0,1],[0,2]],[[0,0],[1,0],[2,0],[2,1]]],Lmino:[[[0,0],[0,1],[0,2],[1,2]],[[0,0],[1,0],[2,0],[0,1]],[[0,0],[1,0],[1,1],[1,2]],[[0,1],[1,1],[2,0],[2,1]]]};function P(){u={...g};for(let r=0;r<b;r++)D()}function D(){const r=document.createElement("li"),c=document.createElement("ul");for(let q=0;q<G;q++){const N=document.createElement("li");c.prepend(N)}r.prepend(c),t.prepend(r)}function M(r=""){if(!E){const{type:c,direction:q,top:N,left:Y}=u;document.querySelectorAll(".moving").forEach(j=>{j.classList.remove(c,"moving")}),v[c][q].some(j=>{const R=j[0]+Y,H=j[1]+N,X=t.childNodes[H]?t.childNodes[H].childNodes[0].childNodes[R]:null;if(B(X))X.classList.add(c,"moving");else return u={...g},setTimeout(()=>{M(),r==="top"&&w()},0),!0}),g.left=Y,g.top=N,g.direction=q}}function w(){document.querySelectorAll(".moving").forEach(c=>{c.classList.remove("moving"),c.classList.add("seized")}),U()}function U(){const r=t.childNodes;r[0].children[0].childNodes.forEach(c=>{c.classList.contains("seized")&&(E=!0,W.play(),I())}),r.forEach(c=>{let q=!0;c.children[0].childNodes.forEach(N=>{N.classList.contains("seized")||(q=!1)}),q&&(F.play(),c.remove(),D(),k++,document.querySelector(".tetris__info .line span").innerText=k)}),T()}function T(){clearInterval(A),A=setInterval(()=>{e("top",1)},x);const r=Object.entries(v),c=Math.floor(Math.random()*r.length);g.type=r[c][0],g.top=0,g.left=5,g.direction=0,u={...g}}function B(r){return!(!r||r.classList.contains("seized"))}function e(r,c){u[r]+=c,M(r)}function n(){u.direction===3?u.direction=0:u.direction+=1,M()}function p(){clearInterval(A),A=setInterval(()=>{e("top",1)},10)}function f(){d=setInterval(()=>{S++,document.querySelector(".tetris__info .time span").innerText=S},1e3)}function I(){_.pause(),_.currentTime=0,clearInterval(d),C.classList.remove("show"),i.classList.add("show"),l.innerText=S,h.innerText=k,z.innerText=S+k*5}function L(){E=!1,s.classList.remove("show"),C.classList.add("show"),document.querySelector(".tetris__restart").classList.remove("show"),T(),f(),_.play(),_.loop=!0}function y(){_.pause(),_.currentTime=0,C.classList.remove("show"),clearInterval(d),k=0,S=0,E=!0,document.querySelector(".tetris__info .time span").innerText=S,t.querySelectorAll("li > ul > li").forEach(c=>{c.className=""})}document.addEventListener("keydown",r=>{switch(r.keyCode){case 39:e("left",1);break;case 37:e("left",-1);break;case 40:e("top",1);break;case 38:n();break;case 32:p();break}}),m.addEventListener("click",()=>{L()}),a.addEventListener("click",()=>{y(),i.classList.remove("show"),s.classList.add("show")}),O.addEventListener("click",()=>{o.style.display="none",endTetrisGame()}),O.addEventListener("click",()=>{y(),i.classList.remove("show"),s.classList.add("show"),o.classList.remove("show")}),P()}J();V();K();
